# ============================================
# Xnix 用户服务配置
# ============================================
#
# 此文件配置非核心的用户服务，会被打包到 system.img:/etc/user_services.conf
# 核心服务配置在 user/core_services.conf
#
# 配置格式：
#
# [service.my_service]
# type = path
# path = /sys/drivers/my_driver.elf  # 或 /sys/bin/my_app.elf
# profile = default
# after = vfsserver              # 依赖的服务
# ready = vfsserver              # 等待就绪
# requires = vfs_ep              # 需要的 handles
# respawn = false                # 退出后是否重启
#
# ============================================

# ============================================
# Shell (VGA 终端)
# ============================================
[service.shell]
type = path
path = /sys/bin/shell.elf
requires = kbd_ep vfs_ep tty0
respawn = true

# ============================================
# Shell (串口终端)
# ============================================
[service.shell_serial]
type = path
path = /sys/bin/shell.elf
args = --tty=tty1
requires = vfs_ep tty1
respawn = true

# ============================================
# 示例：用户驱动
# ============================================

# [service.my_driver]
# type = path
# path = /sys/drivers/my_driver.elf
# profile = driver
# after = vfsserver
# requires = vfs_ep
# respawn = true

# ============================================
# 示例：用户应用
# ============================================

# [service.my_app]
# type = path
# path = /sys/bin/my_app.elf
# profile = default
# after = vfsserver
# ready = vfsserver
# requires = vfs_ep
# respawn = false
